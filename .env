
# =============================================================================
# Kimi (Moonshot AI)
# =============================================================================
KIMI_API_KEY="sk-lwXxZiXh2wEfGqgJln3zMbiOPAUDxMYBe8iinRU9OYmbvT90"
KIMI_BASE_URL="https://api.moonshot.cn/v1"
KIMI_MODEL="kimi-k2-turbo-preview"

# =============================================================================
# DeepSeek
# =============================================================================
DEEPSEEK_API_KEY="sk-5ac0126d2291484f8c705ca80b2897f4"
DEEPSEEK_BASE_URL="https://api.deepseek.com/v1"
DEEPSEEK_MODEL="deepseek-chat"  # deepseek-chat, deepseek-reasoner

# =============================================================================
# Zhipu GLM (BigModel)
# =============================================================================
ZHIPU_API_KEY=cef62fd30a0e4ddf826ccba67b7a1e78.iSRcFQPBKBt4MQ52
ZHIPU_BASE_URL=https://open.bigmodel.cn/api/coding/paas/v4
ZHIPU_MODEL=glm-4.7

# =============================================================================
# Survey Analysis Workflow Configuration
# =============================================================================

# ---- LLM Selection ----
# Options: KIMI, DEEPSEEK, ZHIPU
SURVEY_LLM_PROVIDER=ZHIPU

# ---- LLM Parameters ----
SURVEY_LLM_TEMPERATURE=0.1
SURVEY_LLM_MAX_TOKENS=4000

# ---- Preliminary Filtering ----
# Maximum distinct values before filtering out (default: 30)
SURVEY_CARDINALITY_THRESHOLD=30
# Filter out binary variables (true/false)
SURVEY_FILTER_BINARY=true
# Filter out "other" text fields (true/false)
SURVEY_FILTER_OTHER_TEXT=true

# ---- Recoding Configuration ----
# Custom instructions for AI recoding (optional, uses default if empty)
# SURVEY_RECODING_INSTRUCTIONS="Use standard market research practices"

# ---- Indicator Configuration ----
# Custom instructions for AI indicator grouping (optional)
# SURVEY_INDICATOR_INSTRUCTIONS="Group semantically related variables"

# ---- Table Specifications ----
# Custom instructions for table generation (optional)
# SURVEY_TABLE_INSTRUCTIONS="Place demographics in columns; identify weighting variable"

# Weighting variable name (leave empty for auto-detection)
# SURVEY_WEIGHTING_VARIABLE="weight"

# ---- Significance Testing ----
# Alpha threshold for statistical significance (default: 0.05)
SURVEY_SIGNIFICANCE_ALPHA=0.05
# Test type: chi_square, fisher_exact
SURVEY_TEST_TYPE=chi_square

# ---- Human Review / Approval ----
# Enable human-in-the-loop review (true/false)
SURVEY_ENABLE_HUMAN_REVIEW=true
# Auto-approve recoding rules (skip human review)
SURVEY_AUTO_APPROVE_RECODING=false
# Auto-approve indicators (skip human review)
SURVEY_AUTO_APPROVE_INDICATORS=false
# Auto-approve table specifications (skip human review)
SURVEY_AUTO_APPROVE_TABLE_SPECS=false
# Review report format: markdown, html, json
SURVEY_REVIEW_OUTPUT_FORMAT=markdown

# ---- PSPP Configuration ----
# Path to PSPP executable (default: pspp)
SURVEY_PSPP_PATH=pspp

# ---- Output Configuration ----
# Output directory (relative to project root)
SURVEY_OUTPUT_DIR=output
# Create timestamped subdirectories (true/false)
SURVEY_CREATE_TIMESTAMP_DIR=true

# ---- PowerPoint Configuration ----
# PowerPoint template path (optional, uses default if empty)
# SURVEY_PPT_TEMPLATE="templates/ppt/default.pptx"
# Chart style: modern, corporate, minimal
SURVEY_CHART_STYLE=modern
# Include charts in PowerPoint (true/false)
SURVEY_INCLUDE_CHARTS=true

# ---- HTML Dashboard Configuration ----
# HTML template path (optional, uses default if empty)
# SURVEY_HTML_TEMPLATE="templates/html/dashboard.html"
# Chart library: echarts, plotly, chartjs
SURVEY_CHART_LIBRARY=echarts